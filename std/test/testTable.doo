module testTable


import ../strings


fn testTableDelete()
    data table [i64] 
    for [0..4] -> i; table.push(i)

    let [0, 1, 2, 3] = table
    table.delete(3)
    let [0, 1, 2] = table
    table.delete(1)
    let [0, 2] = table
    table.delete(0)
    let [2] = table
    table.delete(0)
    let [] = table


fn testTablePush()
    data table [string]
    let [] = table 
    table.push()
    let [""] = table 
    {table[0], "asdf"}.write()
    table.push()
    let ["asdf", ""] = table
    table.delete(0)
    let [""] = table


fn testTableTwoRows()
    data table [i64; bool]
    let 0 = table.push()
    let 1 = table.push(1, true)
    let [0, 1; false, true] = table


fn testTable()
    testTableDelete()
    testTablePush()
    testTableTwoRows()
    print("testTable passed")
